(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{167:function(t,e,n){},296:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(13),c=n.n(r),i=(n(167),n(17)),s=n(343),o=n(344),l=n(345),u=n(346),d=n(347),j=n(154),b=n(334),p=n(335),O=n(326),m=n(150),h=n.n(m),x=n(70),f=n(16),v=n(20),g=n(24),y=n(80),k=n.n(y),w=n(329),N=n(331),C=n(332),T=n(352),F=n(333),S=n.p+"static/media/noimage.e5c4bd8d.jpg",z=n(3),_=Object(O.a)((function(t){return{root:{maxWidth:374,position:"relative"},media:{height:0,paddingTop:"56.25%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},chip:{marginTop:t.spacing(1)}}})),B=function(t){var e,n=t._id,a=t.title,r=t.subtitle,c=t.content,i=t.tag,s=t.image,o=t.createdAt,l=_();return Object(z.jsxs)(w.a,{className:l.root,children:[Object(z.jsx)(x.b,{to:"/posts/".concat(n),children:Object(z.jsx)(N.a,{className:l.media,image:s||S,title:"Image"})}),Object(z.jsxs)("div",{className:l.overlay,children:[Object(z.jsx)(j.a,{variant:"h6",children:"owner"}),Object(z.jsx)(j.a,{variant:"body2",children:(e=o,k()(e).fromNow())})]}),Object(z.jsxs)(C.a,{children:[Object(z.jsx)(j.a,{variant:"h6",component:"p",gutterBottom:!0,children:a})," ",Object(z.jsx)(j.a,{variant:"overline",component:"p",gutterBottom:!0,children:r})," ",Object(z.jsx)(j.a,{variant:"body2",component:"p",children:(null===c||void 0===c?void 0:c.substring(0,250))+"..."}),Object(z.jsx)(T.a,{label:"# ".concat(i),variant:"outlined",className:l.chip})]}),Object(z.jsx)(F.a,{children:Object(z.jsx)(b.a,{size:"small",color:"primary",children:Object(z.jsx)(x.b,{to:"/posts/".concat(n),children:"Daha Fazla"})})})]})},E=n(144),P=n.n(E),R=n.p+"static/media/grid_four.d897e640.svg",V=n.p+"static/media/grid_three.c45b945b.svg",W=Object(O.a)((function(t){return{layoutShifter:{float:"right",margin:t.spacing(2)}}})),A=function(){var t=Object(g.c)((function(t){return t.posts.posts})),e=W(),n=Object(a.useState)("gridThree"),r=Object(i.a)(n,2),c=r[0],s=r[1];return 0===t.length?Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(P.a,{size:50,css:"\n                display: block;\n                margin: 120px auto;\n                "})}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:e.layoutShifter,children:[Object(z.jsx)(b.a,{variant:"text",size:"small",onClick:function(){return s("gridThree")},children:Object(z.jsx)("img",{src:V,alt:"Three Column",style:{background:"gridThree"===c?"#ccc":""}})}),Object(z.jsx)(b.a,{variant:"text",size:"small",onClick:function(){return s("gridFour")},children:Object(z.jsx)("img",{src:R,alt:"Four Column",style:{background:"gridFour"===c?"#ccc":""}})})]}),Object(z.jsx)(p.a,{container:!0,spacing:2,alignContent:"stretch",children:t.length>0&&t.map((function(t){return Object(z.jsx)(p.a,{item:!0,xs:12,md:"gridThree"===c?4:3,children:Object(z.jsx)(B,Object(v.a)({},t))},null===t||void 0===t?void 0:t._id)}))})]})},q=n(351),D=n(336),I=n(337),Y=n(338),G=n(350),M=n(348),H=n(339),J=n(354),L=n(341),K=n(83),U=n.n(K),Q=n(44),X=n(28),Z=n(85),$=n(8),tt=n.n($),et=n(18),nt=n(63),at=n.n(nt),rt="https://foodcourt-backend.herokuapp.com",ct="/posts/",it=function(){var t=Object(et.a)(tt.a.mark((function t(){return tt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,at.a.get(rt+ct);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),st=function(){var t=Object(et.a)(tt.a.mark((function t(e){return tt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,at.a.get("".concat(rt+ct).concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ot=function(){var t=Object(et.a)(tt.a.mark((function t(e){return tt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,at.a.post(rt+ct,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),lt=function(){var t=Object(et.a)(tt.a.mark((function t(e,n){return tt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,at.a.patch("".concat(rt+ct).concat(e),n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),ut=function(){var t=Object(et.a)(tt.a.mark((function t(e){return tt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,at.a.delete("".concat(rt+ct).concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),dt="FETCH_POSTS",jt="CREATE_POST",bt="FETCH_SINGLE_POST",pt="DELETE_POST",Ot="UPDATE_POST",mt=Object(O.a)((function(t){return{root:{},paper:{padding:t.spacing(3)},textField:{marginBottom:t.spacing(2)}}})),ht=["dinner","breakfast","cookie","desert"],xt=X.b().shape({title:X.c().required(),subtitle:X.c().required(),content:X.c().min(20).required(),tag:X.a().oneOf(ht)}),ft=function(t){var e=t.open,n=t.handleClose,r=Object(g.b)(),c=Object(a.useState)(null),s=Object(i.a)(c,2),o=s[0],l=s[1],u=Object(Q.c)({resolver:Object(Z.a)(xt)}),d=u.register,j=u.handleSubmit,p=u.control,O=u.errors,m=u.reset,h=function(t){var e;r((e=Object(v.a)(Object(v.a)({},t),{},{image:o}),function(){var t=Object(et.a)(tt.a.mark((function t(n){var a,r;return tt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ot(e);case 3:a=t.sent,r=a.data,n({type:jt,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())),x()},x=function(){m(),l(null),n()},f=mt();return Object(z.jsxs)(q.a,{open:e,onClose:n,children:[Object(z.jsx)(D.a,{children:"Yeni yazi olustur"}),Object(z.jsxs)(I.a,{children:[Object(z.jsx)(Y.a,{children:"Yeni bir yazi eklemek icin formu doldurunuz."}),Object(z.jsx)("div",{className:f.root,children:Object(z.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:j(h),children:[Object(z.jsx)(G.a,{id:"title",label:"Ba\u015fl\u0131k",name:"title",variant:"outlined",className:f.textField,size:"small",inputRef:d,error:!!O.title,fullWidth:!0}),Object(z.jsx)(G.a,{id:"subtitle",label:"Alt Ba\u015fl\u0131k",name:"subtitle",variant:"outlined",className:f.textField,size:"small",inputRef:d,error:!!O.subtitle,fullWidth:!0}),Object(z.jsx)(Q.a,{as:Object(z.jsx)(M.a,{input:Object(z.jsx)(H.a,{}),className:f.textField,fullWidth:!0,children:ht.map((function(t,e){return Object(z.jsx)(J.a,{value:t,children:t},e)}))}),name:"tag",control:p,error:!!O.tag,defaultValue:ht[0]}),Object(z.jsx)(G.a,{id:"content",label:"A\xe7\u0131klama",name:"content",multiline:!0,rows:4,variant:"outlined",className:f.textField,size:"small",inputRef:d,error:!!O.content,fullWidth:!0}),Object(z.jsx)(U.a,{multiple:!1,onDone:function(t){var e=t.base64;return l(e)}})]})})]}),Object(z.jsxs)(L.a,{className:f.paper,children:[Object(z.jsx)(b.a,{color:"inherit",onClick:x,children:"Vazgec"}),Object(z.jsx)(b.a,{type:"submit",variant:"outlined",color:"primary",onClick:function(){return j(h)()},children:"Yayinla"})]})]})},vt=n(153),gt=n(342),yt=n(149),kt=n.n(yt),wt=n(148),Nt=n.n(wt),Ct=Object(O.a)((function(t){return{textField:{marginBottom:t.spacing(2)},buttons:{marginTop:t.spacing(2)},button:{marginRight:t.spacing(2)}}})),Tt=["dinner","breakfast","cookie","desert"],Ft=X.b().shape({title:X.c().required(),subtitle:X.c().required(),content:X.c().min(20).required(),tag:X.a().oneOf(Tt)}),St=function(t){t.history;var e=t.post,n=t.closeEditMode,r=Object(g.b)(),c=Object(a.useState)(null===e||void 0===e?void 0:e.image),s=Object(i.a)(c,2),o=s[0],l=s[1],u=Object(Q.c)({resolver:Object(Z.a)(Ft)}),d=u.register,j=u.handleSubmit,p=u.control,O=u.errors,m=u.reset,h=Ct();return Object(z.jsx)("div",{children:Object(z.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:j((function(t){var a=Object(v.a)(Object(v.a)({_id:e._id},t),{},{image:o});r(function(t,e){return function(){var n=Object(et.a)(tt.a.mark((function n(a){var r,c;return tt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,lt(t,e);case 3:r=n.sent,c=r.data,a({type:Ot,payload:c}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t){return n.apply(this,arguments)}}()}(e._id,a)),m(),l(null),n()})),children:[Object(z.jsx)(G.a,{id:"title",label:"Ba\u015fl\u0131k",name:"title",variant:"outlined",className:h.textField,size:"small",inputRef:d,error:!!O.title,fullWidth:!0,defaultValue:null===e||void 0===e?void 0:e.title}),Object(z.jsx)(G.a,{id:"subtitle",label:"Alt Ba\u015fl\u0131k",name:"subtitle",variant:"outlined",className:h.textField,size:"small",inputRef:d,error:!!O.subtitle,fullWidth:!0,defaultValue:null===e||void 0===e?void 0:e.subtitle}),Object(z.jsx)(Q.a,{as:Object(z.jsx)(M.a,{input:Object(z.jsx)(H.a,{}),className:h.textField,defaultValue:null===e||void 0===e?void 0:e.tag,fullWidth:!0,children:Tt.map((function(t,e){return Object(z.jsx)(J.a,{value:t,children:t},e)}))}),name:"tag",control:p,error:!!O.tag,defaultValue:Tt[0]}),Object(z.jsx)(G.a,{id:"content",label:"A\xe7\u0131klama",name:"content",multiline:!0,rows:4,variant:"outlined",className:h.textField,size:"small",inputRef:d,error:!!O.content,fullWidth:!0,defaultValue:null===e||void 0===e?void 0:e.content}),Object(z.jsx)(U.a,{multiple:!1,onDone:function(t){var e=t.base64;return l(e)}}),Object(z.jsxs)("div",{className:h.buttons,children:[Object(z.jsx)(b.a,{className:h.button,color:"secondary",variant:"outlined",onClick:n,children:"Vazgec"}),Object(z.jsx)(b.a,{color:"primary",variant:"outlined",type:"submit",children:"Kaydet"})]})]})})},zt=Object(O.a)((function(t){return{paper:{padding:t.spacing(3),marginBottom:t.spacing(8)},header:{display:"flex",justifyContent:"space-between"},content:{marginTop:t.spacing(3)},image:{width:"100%",borderRadius:5,marginTop:t.spacing(3),marginBottom:t.spacing(4)},chip:{marginTop:t.spacing(1)}}})),_t=function(t){var e=t.history,n=(t.location,t.match.params.id),r=Object(g.b)(),c=Object(g.c)((function(t){return t.posts.selectedPost})),s=Object(a.useState)(!1),o=Object(i.a)(s,2),l=o[0],u=o[1];Object(a.useEffect)((function(){r(function(t){return function(){var e=Object(et.a)(tt.a.mark((function e(n){var a,r;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,st(t);case 3:a=e.sent,r=a.data,n({type:bt,payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(n))}),[r,n]);var d,p=zt();return Object(z.jsx)(vt.a,{className:p.paper,elevation:0,children:l?Object(z.jsx)(St,{post:c,closeEditMode:function(){u(!1)}}):Object(z.jsxs)("div",{children:[Object(z.jsxs)("div",{children:[Object(z.jsx)("div",{className:p.header,children:Object(z.jsx)(j.a,{variant:"h5",gutterBottom:!0,children:null===c||void 0===c?void 0:c.title})}),Object(z.jsx)(b.a,{style:{margin:"0 10px 10px 0"},color:"primary",variant:"outlined",onClick:function(){u(!0)},startIcon:Object(z.jsx)(Nt.a,{}),children:"Duzenle"}),Object(z.jsx)(b.a,{style:{margin:"0 10px 10px 0"},color:"primary",variant:"outlined",onClick:function(){r(function(t){return function(){var e=Object(et.a)(tt.a.mark((function e(n){var a,r;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ut(t);case 3:a=e.sent,r=a.data,n({type:pt,payload:r._id}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(c._id)),e.push("/posts")},startIcon:Object(z.jsx)(kt.a,{}),children:"Sil"})]}),Object(z.jsx)(gt.a,{}),Object(z.jsx)(j.a,{variant:"overline",gutterBottom:!0,children:null===c||void 0===c?void 0:c.subtitle}),Object(z.jsx)(j.a,{variant:"caption",component:"p",children:(d=null===c||void 0===c?void 0:c.createdAt,k()(d).fromNow())}),Object(z.jsx)(T.a,{label:"# ".concat(null===c||void 0===c?void 0:c.tag),variant:"outlined",className:p.chip}),Object(z.jsxs)("div",{className:p.content,children:[Object(z.jsx)("img",{src:(null===c||void 0===c?void 0:c.image)||S,alt:"post",className:p.image}),Object(z.jsx)(j.a,{variant:"body1",children:null===c||void 0===c?void 0:c.content})]})]})})},Bt=Object(O.a)((function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1},container:{marginTop:t.spacing(3)}}})),Et=function(){var t=Object(g.b)();Object(a.useEffect)((function(){t(function(){var t=Object(et.a)(tt.a.mark((function t(e){var n,a;return tt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,it();case 3:n=t.sent,a=n.data,e({type:dt,payload:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())}),[t]);var e=Object(a.useState)(!1),n=Object(i.a)(e,2),r=n[0],c=n[1],O=Bt();return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(s.a,{}),Object(z.jsxs)(o.a,{maxWidth:"lg",children:[Object(z.jsx)(l.a,{position:"static",color:"inherit",elevation:0,children:Object(z.jsxs)(u.a,{children:[Object(z.jsx)(d.a,{edge:"start",className:O.menuButton,color:"inherit","aria-label":"menu"}),Object(z.jsx)(j.a,{variant:"h6",color:"secondary",className:O.title,children:Object(z.jsx)("a",{href:"/posts",children:"FoodCourt"})}),Object(z.jsx)(b.a,{color:"primary",variant:"outlined",startIcon:Object(z.jsx)(h.a,{}),onClick:function(){c(!0)},children:"Yeni Yazi"})]})}),Object(z.jsx)(p.a,{container:!0,className:O.container,children:Object(z.jsx)(p.a,{item:!0,xs:12,children:Object(z.jsxs)(x.a,{children:[Object(z.jsxs)(f.d,{children:[Object(z.jsx)(f.b,{exact:!0,path:"/posts",component:A}),Object(z.jsx)(f.b,{exact:!0,path:"/posts/:id",component:_t})]}),Object(z.jsx)(f.a,{from:"/",to:"/posts"})]})})})]}),Object(z.jsx)(ft,{open:r,handleClose:function(){c(!1)}})]})},Pt=n(62),Rt=n(151),Vt=n(11),Wt={posts:[],selectedPost:null},At=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case dt:return Object(v.a)(Object(v.a)({},t),{},{posts:e.payload});case bt:return Object(v.a)(Object(v.a)({},t),{},{selectedPost:e.payload});case jt:return Object(v.a)(Object(v.a)({},t),{},{posts:[].concat(Object(Vt.a)(t.posts),[e.payload])});case Ot:return Object(v.a)(Object(v.a)({},t),{},{posts:t.posts.map((function(t){return t._id===e.payload._id?e.payload:t})),selectedPost:e.payload});case pt:return Object(v.a)(Object(v.a)({},t),{},{posts:t.posts.filter((function(t){return t._id!==e.payload})),selectedPost:null});default:return Object(v.a)({},t)}},qt=Object(Pt.b)({posts:At}),Dt=Object(Pt.d)(qt,{},Object(Pt.c)(Object(Pt.a)(Rt.a)));c.a.render(Object(z.jsx)(g.a,{store:Dt,children:Object(z.jsx)(Et,{})}),document.getElementById("root"))}},[[296,1,2]]]);
//# sourceMappingURL=main.da0feb27.chunk.js.map